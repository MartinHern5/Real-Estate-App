<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
    <title>Search Results</title>
    <style>
        .custom-checkbox input[type="checkbox"] {
            display: none; /* Hide the default checkbox */
        }

        .custom-checkbox .plus {
            font-size: 20px; /* Adjust the size of the plus sign */
            color: black; /* Color of the plus sign */
            cursor: pointer; /* Show pointer cursor on hover */
        }

        .custom-checkbox input[type="checkbox"]:checked + .plus {
            color: grey; /* Color of the plus sign should not change when checkbox is checked */
        }
    </style>
    <script>
        function submitForm() {
            document.getElementById("searchForm").submit(); // Submit the form
        }
    </script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#"> 
            <img src="https://t3.ftcdn.net/jpg/02/93/53/16/360_F_293531639_RTec7iO5kBTQRGDYQBXdaoWQY9hY2KpJ.jpg" alt="Home Nexus Logo"> Home Nexus</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="./home">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./favorites">Favorites</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Settings</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./login">Logout</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>Results:</h1>
        <p>Found {{ results_count }} items matching your search criteria.</p>
        <form id="searchForm" action="/addToFav" method="post">
            <ul>
                {% for item in results %}
                <li class="row">
                    <div class="col-md-4">
                        <img src="{{ item['House Image'] }}">
                    </div>
                    <div class="col-md-4">
                        <label><strong>{{ item['Address'] }}</strong></label>
                        <label class="custom-checkbox">
                            <input type="checkbox" value="{{ item['ID'] }}" name="property_id" onchange="submitForm()">
                            <span class="plus">+</span>
                        </label>
                        <p>Status: {{ item['Status'] }}</p>
                        <p>Listing Price: ${{ item['Listing Price'] }}</p>
                        <p>Square Feet: {{ item['Square Ft'] }} sqft</p>
                        <p>Year Built: {{ item['Year Built'] }}</p>
                        <p>Beds: {{ item['Beds'] }}</p>
                        <p>Baths: {{ item['Baths'] }}</p>
                        <p>Days on Site: {{ item['Days on Site'] }}</p>
                        <p><a href="{{ item['URL'] }}">View Listing</a></p>
                    </div>
                    <div class="col-md-4">
                        <iframe src="{{ item['Google Map Image'] }}"
                                style="border:0;"
                                allowfullscreen=""
                                loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </li>
                {% else %}
                <li>No items found.</li>
                {% endfor %}
            </ul>
        </form>
    </div>
</body>

</html>